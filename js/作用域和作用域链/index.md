
# 作用域的基础知识

我们都知道，当我们定义一个变量的时候，这个变量是有生命周期的，什么时候声明，什么时候销毁。描述这个变量可用性的范围的概念就是**作用域**。

一个基础知识是我们都知道现在JS中的作用域范围分为三种：`块级作用域，局部作用域，全局作用域`。

但作用域从另一个角度还可以分为`词法作用域，动态作用域`

**词法作用域**，也叫静态作用域，它的作用域是指在词法分析阶段，也就是在声明的时候就确定了，不会改变。

**动态作用域** 是在运行时根据程序的流程信息来动态确定的，而不是在写代码时进行静态确定的。

**JavaScript没有用动态作用域概念**，虽然`this`的表现非常接近动态作用域，但它不是，关于this，后面会单写一篇文章探讨

```javascript
const str = 'global'

function foo() {
  return str
}

function bar() {
  const str = 'local'
  return foo()
}

bar() // global

```
这是网上一个经典的例子，用来说明js中的作用域属于词法作用域。当代码最终执行到`foo()`的时候，`foo()`方法内部没有变量`str`,那么根据作用域链的规则，则向上级查找，因为作用域是在声明的时候确定的，那么此时会向全局作用域中查找，找到`str = 'global'`,最终输出`global`。

如果假设JS是动态作用域呢，因为`foo()`方法是在`bar()`中进行调用的，作用域链的上游就变成了`bar()`方法所形成的局部作用域，找到`str='local'`, 最终会输出`local`。 当然，这个是理论推测，在JS中是没法验证了。

> JavaScript 函数的执行用到了作用域链，这个作用域链是在函数定义的时候创建的。嵌套的函数 foo() 定义在这个作用域链里，其中的变量 scope 一定是局部变量，不管何时何地执行函数 foo()，这种绑定在执行 f() 时依然有效。


# 作用域链





